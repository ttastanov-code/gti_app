{% extends "base.html" %}
{% load static %}
{% load widget_tweaks %}
{% block title %}{{ article.title }}{% endblock %}

{% block content %}
  <div class="max-w-4xl mx-auto py-16 px-4">

    {% if user.is_authenticated %}
      <div class="flex justify-end mb-6">
        <a href="{% url 'article:edit' article.pk %}"
          class="btn btn-ghost btn-sm gap-2">
          <svg xmlns="http://www.w3.org/2000/svg"
              class="h-4 w-4"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor">
            <path stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M16.862 3.487a2.25 2.25 0 113.182 3.182L7.5 19.313l-4.5 1.125
                    1.125-4.5L16.862 3.487z" />
            <path stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19.5 12v6.75A2.25 2.25 0 0117.25 21H5.25A2.25 2.25 0 013 18.75V6.75
                    A2.25 2.25 0 015.25 4.5H12" />
          </svg>
          Редактировать
        </a>
      </div>
    {% endif %}

    <h1 class="text-4xl font-bold mb-4">
      {{ article.title }}
    </h1>

    <p class="text-sm text-base-content/60 mb-8 flex items-center gap-2">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none"
          viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M8 7V3m8 4V3M5 11h14M5 19h14"/>
      </svg>
      {{ article.published_at|date:"d M Y" }}
    </p>

    {% if article.image %}
      <div class="mb-10">
        <img src="{{ article.image.url }}"
            class="rounded-2xl w-full object-cover shadow-lg">
      </div>
    {% endif %}

    <div class="prose prose-lg max-w-none">
      {{ article.content|safe }}
    </div>

  </div>

{% endblock %}
